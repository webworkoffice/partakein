<?xml version="1.0" encoding="utf-8" ?>

<persistence xmlns="http://java.sun.com/xml/ns/persistence" version="2.0">


  <persistence-unit name="partake">
    <provider>org.apache.openjpa.persistence.PersistenceProviderImpl</provider>
        
    <class>in.partake.model.dto.BinaryData</class>
    <class>in.partake.model.dto.CacheData</class>
    <class>in.partake.model.dto.CalendarLinkage</class>
    <class>in.partake.model.dto.Comment</class>
    <class>in.partake.model.dto.Enrollment</class>
    <class>in.partake.model.dto.Envelope</class>
    <class>in.partake.model.dto.Event</class>
    <class>in.partake.model.dto.EventActivity</class>
    <class>in.partake.model.dto.EventFeedLinkage</class>
    <class>in.partake.model.dto.EventRelation</class>
    <class>in.partake.model.dto.EventReminder</class>    
    <class>in.partake.model.dto.Message</class>
    <class>in.partake.model.dto.OpenIDLinkage</class>
    <class>in.partake.model.dto.Questionnaire</class>
    <class>in.partake.model.dto.ShortenedURLData</class>
    <class>in.partake.model.dto.TwitterLinkage</class>
    <class>in.partake.model.dto.User</class>
    <class>in.partake.model.dto.UserPreference</class>
    
    <properties>
      <property name="openjpa.ConnectionDriverName" value="org.apache.commons.dbcp.BasicDataSource"/>
      <property name="openjpa.ConnectionProperties" value="DriverClassName=org.postgresql.Driver,Url=jdbc:postgresql:partake,Username=partake,Password=partake"/>
      <property name="openjpa.Log" value="DefaultLevel=WARN, Tool=INFO"/>

      <!-- <property name="openjpa.jdbc.DBDictionary" value="postgres" />  -->
      <property name="openjpa.jdbc.DBDictionary" value="in.partake.model.dao.jpa.dictionary.PartakePostgresDictionary" />
      

      <!-- property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema(SchemaAction='drop,add')"/--> 
      <property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema(SchemaAction='add')" /> 
      <property name="openjpa.RuntimeUnenhancedClasses" value="supported"/>
      
      <property name="openjpa.DataCache" value="true"/>
      <property name="openjpa.QueryCache" value="false"/>
      <property name="openjpa.RemoteCommitProvider" value="sjvm"/>        
    </properties>
    
  </persistence-unit>

  <persistence-unit name="partake-unittest">
    <provider>org.apache.openjpa.persistence.PersistenceProviderImpl</provider>
    <class>in.partake.model.dto.BinaryData</class>
    <class>in.partake.model.dto.CacheData</class>
    <class>in.partake.model.dto.CalendarLinkage</class>
    <class>in.partake.model.dto.Comment</class>
    <class>in.partake.model.dto.Enrollment</class>
    <class>in.partake.model.dto.Envelope</class>
    <class>in.partake.model.dto.Event</class>
    <class>in.partake.model.dto.EventActivity</class>
    <class>in.partake.model.dto.EventFeedLinkage</class>
    <class>in.partake.model.dto.EventRelation</class>
    <class>in.partake.model.dto.EventReminder</class>    
    <class>in.partake.model.dto.Message</class>
    <class>in.partake.model.dto.OpenIDLinkage</class>
    <class>in.partake.model.dto.Questionnaire</class>
    <class>in.partake.model.dto.ShortenedURLData</class>
    <class>in.partake.model.dto.TwitterLinkage</class>
    <class>in.partake.model.dto.User</class>
    <class>in.partake.model.dto.UserPreference</class>
    
    <properties>
      <property name="openjpa.ConnectionDriverName" value="org.apache.commons.dbcp.BasicDataSource"/>
      <property name="openjpa.ConnectionProperties" value="DriverClassName=org.postgresql.Driver,Url=jdbc:postgresql:partake-unittest,Username=partake,Password=partake"/>
      <property name="openjpa.Log" value="DefaultLevel=WARN, Tool=INFO"/>

	  <!-- <property name="openjpa.jdbc.DBDictionary" value="postgres" />  -->
	  <property name="openjpa.jdbc.DBDictionary" value="in.partake.model.dao.jpa.dictionary.PartakePostgresDictionary" />

      <!-- property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema(SchemaAction='drop,add')"/--> 
      <property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema(SchemaAction='drop,add')" /> 
      <property name="openjpa.RuntimeUnenhancedClasses" value="supported"/>
      
      <property name="openjpa.DataCache" value="false"/>
      <property name="openjpa.QueryCache" value="false"/>
      <property name="openjpa.RemoteCommitProvider" value="sjvm"/>

    </properties>
  </persistence-unit>

</persistence>




